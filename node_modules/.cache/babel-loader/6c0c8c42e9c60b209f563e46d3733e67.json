{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jorge.escobar\\\\Desktop\\\\personal projects\\\\weane\\\\src\\\\Components\\\\Home\\\\Home.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCountryInfoAction } from '../../actions/countryActions';\nimport { convertedValueAction } from '../../actions/currencyActions';\nimport { searchNewsAction } from '../../actions/newsActions';\nimport axios from 'axios';\nimport './Home.css';\nimport Weather from '../Weather/weatherCard';\nimport CountryCard from '../Country/countryCard';\nimport News from '../News/News';\n\nfunction Home() {\n  const countryCode = useSelector(state => state.weather.weather[0] === undefined ? state.weather.weather[0] : state.weather.weather[0].country);\n  const icon = useSelector(state => state.weather.weather[0] === undefined ? state.weather.weather[0] : state.weather.weather[0].icon);\n  const location = useSelector(state => state.location.location[0].location === undefined ? state.location.location[0] : state.location.location[0].location);\n  useEffect(() => {\n    getCountryInfo();\n    getNews(); //console.log(\"hey\")\n  });\n  const dispatch = useDispatch();\n\n  const addCountryInfo = countryInfo => dispatch(addCountryInfoAction(countryInfo));\n\n  const addConvertedCurrency = convertedCurrency => dispatch(convertedValueAction(convertedCurrency));\n\n  const addNews = news => dispatch(searchNewsAction(news));\n\n  const getCountryInfo = async () => {\n    if (countryCode !== undefined) {\n      const urlCountry = \"https://restcountries.eu/rest/v2/alpha/\".concat(countryCode);\n      const info = await axios.get(urlCountry); // console.log(info.data.currencies[0].code);\n\n      addCountryInfo({\n        country: info.data.name,\n        currency: info.data.currencies[0].code,\n        currencySimbol: info.data.currencies[0].symbol,\n        flag: info.data.flag\n      });\n      const currencyApiKey = \"f017f25d741fe49e1536\"; //jorgatsu@yopmawil.com \n\n      const currencyApiKey1 = \"56b0d0350418bb3975fe\"; //jorgatsu1@yopmawil.com         \n\n      const currencyApiKey2 = \"68cea0e6d043806969b7\"; //jorgatsu2@yopmawil.com         \n\n      const currencyApiKey3 = \"8bc4937eceb0d16c950d\"; //jorgatsu3@yopmawil.com         \n\n      const currencyApiKey4 = \"35d0626d49ce6d46bbe9\"; //jorgatsu4@yopmawil.com         \n\n      const currencyApiKey5 = \"de6bd5f52e288ad885f8\"; //jorgatsu5@yopmawil.com \n\n      const urlCurrency = \"https://free.currconv.com/api/v7/convert?q=USD_\".concat(info.data.currencies[0].code, \"&compact=ultra&apiKey=\").concat(currencyApiKey);\n      let currency = await fetch(urlCurrency);\n      let currencyResult = await currency.json();\n      const currencyResultToArray = Object.entries(currencyResult); // console.log(currencyResultToArray[0][1]);\n\n      addConvertedCurrency({\n        convertedValue: currencyResultToArray[0][1]\n      });\n    }\n  };\n\n  const getNews = async () => {\n    if (location !== undefined) {\n      const newsApiKey = \"baf89e91a399451dbf982a015897aea1\";\n      const newsUrl = \"https://newsapi.org/v2/everything?q=\".concat(location, \"%20\").concat(countryCode, \"&apiKey=\").concat(newsApiKey);\n      const newsResult = await axios.get(newsUrl); // console.log(newsResult.data.articles);\n\n      const news = [];\n\n      for (const i of newsResult.data.articles) {\n        news.push(i);\n      }\n\n      addNews({\n        news: news\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"home_weather container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Weather, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    href: \"#!\",\n    className: \"home_card child\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"article\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"We are so sorry :(\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"This feature will be available soon\"), React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })))), React.createElement(\"a\", {\n    href: \"#!\",\n    className: \"home_card child\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(CountryCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })))), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"home_news cointainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"child news container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"News\"), React.createElement(News, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }))));\n}\n\nexport default Home;","map":{"version":3,"sources":["C:\\Users\\jorge.escobar\\Desktop\\personal projects\\weane\\src\\Components\\Home\\Home.js"],"names":["React","useEffect","useDispatch","useSelector","addCountryInfoAction","convertedValueAction","searchNewsAction","axios","Weather","CountryCard","News","Home","countryCode","state","weather","undefined","country","icon","location","getCountryInfo","getNews","dispatch","addCountryInfo","countryInfo","addConvertedCurrency","convertedCurrency","addNews","news","urlCountry","info","get","data","name","currency","currencies","code","currencySimbol","symbol","flag","currencyApiKey","currencyApiKey1","currencyApiKey2","currencyApiKey3","currencyApiKey4","currencyApiKey5","urlCurrency","fetch","currencyResult","json","currencyResultToArray","Object","entries","convertedValue","newsApiKey","newsUrl","newsResult","i","articles","push"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addCountryInfoAction } from '../../actions/countryActions';\r\nimport { convertedValueAction } from '../../actions/currencyActions';\r\nimport { searchNewsAction } from '../../actions/newsActions'\r\nimport axios from 'axios';\r\nimport './Home.css';\r\nimport Weather from '../Weather/weatherCard';\r\nimport CountryCard from '../Country/countryCard';\r\nimport News from '../News/News';\r\n\r\n\r\nfunction Home() {\r\n    const countryCode = useSelector(state => state.weather.weather[0] === undefined ? state.weather.weather[0] : state.weather.weather[0].country);\r\n    const icon = useSelector(state => state.weather.weather[0] === undefined ? state.weather.weather[0] : state.weather.weather[0].icon);\r\n    const location = useSelector(state => state.location.location[0].location === undefined ? state.location.location[0] : state.location.location[0].location);\r\n\r\n    useEffect(() => {\r\n        getCountryInfo();\r\n        getNews();\r\n        //console.log(\"hey\")\r\n    })\r\n\r\n    const dispatch = useDispatch();\r\n    const addCountryInfo = (countryInfo) => dispatch(addCountryInfoAction(countryInfo));\r\n    const addConvertedCurrency = (convertedCurrency) => dispatch(convertedValueAction(convertedCurrency));\r\n    const addNews = (news) => dispatch(searchNewsAction(news));\r\n\r\n    const getCountryInfo = async () => {\r\n        if (countryCode !== undefined) {\r\n            const urlCountry = `https://restcountries.eu/rest/v2/alpha/${countryCode}`;\r\n            const info = await axios.get(urlCountry);\r\n            // console.log(info.data.currencies[0].code);\r\n            addCountryInfo({\r\n                country: info.data.name,\r\n                currency: info.data.currencies[0].code,\r\n                currencySimbol: info.data.currencies[0].symbol,\r\n                flag: info.data.flag,\r\n            });\r\n            const currencyApiKey = \"f017f25d741fe49e1536\"; //jorgatsu@yopmawil.com \r\n            const currencyApiKey1 = \"56b0d0350418bb3975fe\"; //jorgatsu1@yopmawil.com         \r\n            const currencyApiKey2 = \"68cea0e6d043806969b7\"; //jorgatsu2@yopmawil.com         \r\n            const currencyApiKey3 = \"8bc4937eceb0d16c950d\"; //jorgatsu3@yopmawil.com         \r\n            const currencyApiKey4 = \"35d0626d49ce6d46bbe9\"; //jorgatsu4@yopmawil.com         \r\n            const currencyApiKey5 = \"de6bd5f52e288ad885f8\"; //jorgatsu5@yopmawil.com \r\n\r\n            const urlCurrency = `https://free.currconv.com/api/v7/convert?q=USD_${info.data.currencies[0].code}&compact=ultra&apiKey=${currencyApiKey}`;\r\n            let currency = await fetch(urlCurrency);\r\n            let currencyResult = await currency.json();\r\n            const currencyResultToArray = Object.entries(currencyResult);\r\n            // console.log(currencyResultToArray[0][1]);\r\n            addConvertedCurrency({\r\n                convertedValue: currencyResultToArray[0][1]\r\n            });\r\n        }\r\n    }\r\n\r\n    const getNews = async () => {\r\n        if (location !== undefined) {\r\n            const newsApiKey = \"baf89e91a399451dbf982a015897aea1\"\r\n            const newsUrl = `https://newsapi.org/v2/everything?q=${location}%20${countryCode}&apiKey=${newsApiKey}`;\r\n            const newsResult = await axios.get(newsUrl);\r\n            // console.log(newsResult.data.articles);\r\n            const news = [];\r\n            for (const i of newsResult.data.articles) {\r\n                news.push(i);\r\n            }\r\n            addNews({\r\n                news: news\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <section>\r\n                <div className=\"home_weather container\">\r\n                    <Weather></Weather>\r\n                    <a href=\"#!\" className=\"home_card child\">\r\n                        <article>\r\n                            <header>\r\n                                <h2>We are so sorry :(</h2>\r\n                            </header>\r\n                            <div>\r\n                                <h4>This feature will be available soon</h4>\r\n                                <h4></h4>\r\n                            </div>\r\n                        </article>\r\n                    </a>\r\n                    <a href=\"#!\" className=\"home_card child\">\r\n                        <CountryCard></CountryCard>\r\n                    </a>\r\n                </div>\r\n            </section>\r\n            <section>\r\n                <div className=\"home_news cointainer\">\r\n                    <div className=\"child news container\">\r\n                        News\r\n                    </div>\r\n\r\n                    <News></News>\r\n\r\n\r\n\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}